#!/bin/bash
echo "$WATER $STIR" | awk '
BEGIN {
  water_chars = "waetr"
  stir_chars = "stir."
  bestchol = "bestchol"
}
{
  # Convert WATER to decimal
  water_value = 0
  for (i = 1; i <= length($1); i++) {
    c = substr($1, i, 1)
    water_value = water_value * 5 + index(water_chars, c) - 1
  }

  # Convert STIR to decimal
  stir_value = 0
  for (i = 1; i <= length($2); i++) {
    c = substr($2, i, 1)
    stir_value = stir_value * 5 + index(stir_chars, c) - 1
  }

  sum = water_value + stir_value

  # Convert sum to bestchol base
  res = ""
  do {
    res = substr(bestchol, (sum % 8) + 1, 1) res
    sum = int(sum / 8)
  } while (sum > 0)

  print res
}'